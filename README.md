# oplab1
 Лабораторная работа №1
Основное задание
Спроектировать и разработать систему авторизации пользователей на протоколе HTTP.
Система должна обладать следующим функционалом:
Функциональность входа и выхода
Пароли должны хранится в хешированном виде
1. Описание пользовательских сценариев работы
На сайте пользователю доступны следующие возможности:
Регистрация
Авторизация
При вводе неверных данных, пользователю выводится сообщение об ошибке.
После авторизации пользователю открываются следующие возможности:
1.Выход из аккаунта
Если пользователь был ранее авторизован на сайте, у него есть cookie с токеном, и
токен совпадает с токеном в БД, то при обновлении страницы, закрытия вкладки, закрытия
браузера, он останется на главной странице.
После того как срок годности cookie закончится, при обновлении главной страницы, будет
произведен автоматический выход из аккаунта. Пользователь будет перенаправлен на
страницу входа.
2. Описание API сервера и хореографии
Пример запросов, когда пользователь впервые заходит на страницу index.php,
а после регистрируется:
![image](https://user-images.githubusercontent.com/92341295/209483294-553dd050-53e7-4d92-b839-5029415538ca.png)
Пример запросов, когда пользователь заходит на страницу авторизации, вводит
неверное имя пользователя, а после вводит верные данные и входит в аккаунт:
![image](https://user-images.githubusercontent.com/92341295/209483307-c189c553-9dd1-4755-828b-a05bb7b95114.png)
3. Описание структуры базы данных
Для хранения данных пользователей используется JSON файл. Каждый объект содержит в
себе login пользователя, хэш пароля и токен.
Пример данных пользователя в базе данных:
[{“login”:“1”,“password”:"$2y$10$TcqLKccC1P5.pkfyZXSpme2fc/MCSItxc1sv.unwvOhW68NPH3
XyW",“token”:“2fce80e291a45781bd5f”}]
4. Описание алгоритмов
Алгоритм страницы регистрации
![image](https://user-images.githubusercontent.com/92341295/209483312-d866c4b0-6494-45b2-a49e-c462730bbda7.png)
Алгоритм страницы авторизации:
![image](https://user-images.githubusercontent.com/92341295/209483321-f1802c2b-7e61-4e87-8db2-c965c8b36589.png)


